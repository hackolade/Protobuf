"use strict";var As=Object.defineProperty;var s=(r,e)=>As(r,"name",{value:e,configurable:!0});var w=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Xe=w((Fa,zr)=>{"use strict";var Ur={},Ss=s(r=>{Ur.lodash=r.require("lodash")},"setDependencies");zr.exports={setDependencies:Ss,dependencies:Ur}});var Xr=w((Ia,Zr)=>{"use strict";var{dependencies:ht}=Xe(),Hr=/#model\/definitions\/(.*)/,Ds=s(r=>{let e=ht.lodash;return Object.entries(e.get(JSON.parse(r),"properties",{})).map(([t,n])=>({title:t,...n})).filter(t=>{let n=t.type==="message",i=t.type==="enum";return n||i})},"parseDefinitions"),Ns=s((r,e,t)=>{let n=ht.lodash,i=Ts(r,t);return i?{fieldType:i.title,fieldOptions:e}:{hasReferenceError:!0,fieldOptions:""}},"getDefinitionInfo"),Ts=s((r,e)=>{let t=ht.lodash;return r.find(n=>t.get(n,"definitionRefs",[]).some(i=>t.last(i)===e))},"getReferencedDefinition"),xs=s((r=[])=>{let{extractedDefinitions:e,modifiedProperties:t}=Object.entries(r).reduce(({extractedDefinitions:n,modifiedProperties:i},[o,a])=>{if(a.type!=="message"&&a.type!=="enum")return{modifiedProperties:{...i,[o]:a},extractedDefinitions:n};let f={...a,title:o,definitionRefs:[[a.GUID]],options:a.fieldOptions},u={...a,description:"",$ref:`#/definitions/${o}`,title:Gr(o)};return{modifiedProperties:{...i,[Gr(o)]:u},extractedDefinitions:[...n,f]}},{modifiedProperties:{},extractedDefinitions:[]});return{extractedDefinitions:e,properties:t}},"extractDefinitionsFromProperties"),Gr=s(r=>ht.lodash.lowerCase(r).split(" ").join("_"),"convertEntityTypeToValidName"),Yr=s(({schema:r})=>Hr.test(r?.$ref),"checkIsModelDefinitionReference"),Wr=s(({schema:r,modelDefinitions:e})=>{if(!Yr({schema:r}))return r;let[n,i]=Hr.exec(r.$ref);return e.find(o=>o.title===i)},"getModelDefinitionByReference"),Ke=s(({schema:r,modelDefinitions:e})=>{if(Yr({schema:r})){let n=Wr({schema:r,modelDefinitions:e}),i=Ke({schema:n,modelDefinitions:e});return[n?.title,...i]}return r?.properties?Object.values(r.properties).flatMap(n=>Ke({schema:n,modelDefinitions:e})):[]},"getUsedModelDefinitionNames"),Rs=s(({jsonSchema:r,modelDefinitions:e,internalDefinitions:t})=>{let n=Wr({schema:r,modelDefinitions:e}),i=Ke({schema:n,modelDefinitions:e}),o=(r?.oneOf||[]).flatMap(f=>Ke({schema:f,modelDefinitions:e})),a=t.flatMap(f=>Ke({schema:f,modelDefinitions:e}));return[...i,...o,...a]},"getMessageUsedModelDefinitionNames");Zr.exports={parseDefinitions:Ds,getDefinitionInfo:Ns,extractDefinitionsFromProperties:xs,getMessageUsedModelDefinitionNames:Rs}});var Qr=w((Ba,Kr)=>{"use strict";var{dependencies:jt}=Xe(),qs=s(({fields:r,oneOfFields:e,oneOfIndex:t,reservedNumbers:n})=>{let i=jt.lodash,o=Object.entries(r);o.splice(t,0,...Object.entries(e));let a=Fs(n),f=ks(o.length,a);return o.reduce(({collectionProperties:u,oneOfProperties:l},[d,y])=>y.parent==="oneOf"?{collectionProperties:u,oneOfProperties:{...l,[d]:{...y,fieldNumber:f.shift()}}}:{oneOfProperties:l,collectionProperties:{...u,[d]:{...y,fieldNumber:f.shift()}}},{collectionProperties:{},oneOfProperties:{}})},"fixFieldNumbers"),Fs=s(r=>r?r.match(/^\d+(?:(?:,\s*\d+)|(?:,\s+\d+\s+to\s+\d+)|(?:,\s+\d+\s+to\s+max))*$/gm)?r.split(",").map(e=>e.replaceAll(" ","")).reduce((e,t)=>{if(t.match(/^\d+$/gm)){let n={type:"value",value:parseInt(t)};return[...e,n]}if(t.match(/^\d+to\d+$/gm)){let[n,i]=t.split("to");if(parseInt(n)>parseInt(i))return e;let o={type:"range",from:parseInt(n),to:parseInt(i)};return[...e,o]}if(t.match(/\d+tomax/gm)){let[n]=t.split("toMax"),i={type:"less",value:parseInt(n)};return[...e,i]}return e},[]):[]:[],"getChecksFromReservedNumbers"),ks=s((r,e)=>jt.lodash.range(1,r+1).reduce((i,o)=>[...i,Is(o,i,e)],[]),"generateSequence"),Is=s((r,e,t)=>{let o=jt.lodash.range(r,r+1e3).find(a=>!e.includes(a)&&$s(a,t));return o||1},"getNextFieldNumber"),$s=s((r,e)=>e.reduce((t,n)=>{if(n.type==="value")return t&&r!==n.value;if(n.type==="range")return t&&(r<n.from||r>n.to);if(n.type==="less")return t&&r<n.value},!0),"notReservedField");Kr.exports={fixFieldNumbers:qs}});var Vt=w((Ca,en)=>{"use strict";var Bs=s(r=>r?r.replaceAll(`
`,"").split(" ").reduce((e,t,n)=>e+" "+t+(n%10===9?`
*`:""),"/*")+`*/
`:"","formatComment"),Ps=s(({statement:r,spacePrefix:e})=>{let t=s(i=>i.replace(/\*\/|\/\*|\* /g,"").split(`
`).filter(o=>!!o.trim()).map(o=>`${e}* ${o}`).join(`
`),"getCommentBodyLine"),n=r.split(`

`).map(t).join(`
${e}*
`);return`${e}/*
`+n+`
${e}*/`},"wrapInCommentBlock");en.exports={formatComment:Bs,wrapInCommentBlock:Ps}});var an=w((La,on)=>{"use strict";var{dependencies:je}=Xe(),{parseDefinitions:Ut,getDefinitionInfo:zt,extractDefinitionsFromProperties:Cs,getMessageUsedModelDefinitionNames:Ms}=Xr(),{fixFieldNumbers:Ls}=Qr(),{formatComment:Js,wrapInCommentBlock:rn}=Vt(),js=["required","optional","repeated"],Vs=["singular","repeated"],$e="  ",Us=s((r,e)=>typeof r=="string"?r:r[e],"getInternalDefinitions"),zs=s(r=>{let e=r.containerData[0],t=`proto${r.modelData[0].dbVersion}`,n=`package ${e.code||e.name};
`,i=JSON.parse(r.jsonSchema),o=Ut(Us(r.internalDefinitions,i.GUID)),a=[...Ut(r.modelDefinitions),...o.filter(O=>O.isTopLevel)],f=Ut(r.externalDefinitions),u=r.includeAllModelDefinitionsStatements?a.map(O=>O.title):Ms({jsonSchema:i,modelDefinitions:a,internalDefinitions:o}),l=a.filter(O=>u.includes(O.title)).map(O=>nn({jsonSchema:O,protoVersion:t,internalDefinitions:o.filter(E=>E.isTopLevel),modelDefinitions:a,externalDefinitions:f})),d=Zs(f,e.imports),y=sn({jsonSchema:i,internalDefinitions:o,protoVersion:t,modelDefinitions:a,externalDefinitions:f}),S=e.options?e.options.map(O=>Gt(O,"")):"";return{syntax:`syntax = "${t}";
`,packageName:n,imports:d,options:S,modelDefinitionsStatements:l,message:y}},"generateCollectionScript"),nn=s(({jsonSchema:r,spacePrefix:e="",protoVersion:t,internalDefinitions:n,modelDefinitions:i})=>{if(r.type==="message")return sn({jsonSchema:{...r,options:r.fieldOptions},spacePrefix:e,protoVersion:t,internalDefinitions:n,modelDefinitions:i});if(r.type==="enum")return Ys({jsonSchema:{...r,options:r.fieldOptions},spacePrefix:e})},"getDefinitionStatements"),sn=s(({jsonSchema:r,spacePrefix:e="",protoVersion:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o})=>{let a=je.lodash;if(r.$ref){let _=r.$ref.slice(19);r=i.find(k=>k.title===_)||r}let{properties:f,extractedDefinitions:u}=Cs(r.properties),l=Js(r.description),d=a.get(r,"oneOf_meta.index",0),y=r.options?r.options.map(_=>Gt(_,e+$e)):[],{reservedFieldNumbers:S,reservedFieldNames:O}=Xs(r,e+$e),{messageFields:E,oneOfFields:A}=Ks({jsonSchema:{...r,properties:f},protoVersion:t,internalDefinitions:[...n,...u],modelDefinitions:i,externalDefinitions:o,spacePrefix:e+$e,oneOfIndex:d}),F=Hs(r?.oneOf_meta,A,e+$e),b=[...n.filter(_=>!_.isTopLevel),...u].map(_=>nn({jsonSchema:_,spacePrefix:e+$e,protoVersion:t,internalDefinitions:n.filter(k=>k.isTopLevel),modelDefinitions:i,externalDefinitions:o})).join(`
`),we=[l,`${e}message ${r.title} {`,S,O,...y,b,Gs(E,F,d),`${e}}`].filter(_=>_!=="").join(`
`);return r.isActivated?we:rn({statement:we,spacePrefix:e})},"getMessageStatement"),Gs=s((r,e,t)=>{if(e==="")return r.join(`
`);let n=[...r];return n.splice(t,0,e),n.join(`
`)},"concutFieldsStatements"),Hs=s((r,e,t="")=>{let n=r?.name||"one_of";if(je.lodash.isEmpty(e))return"";let o=[`${t}oneof ${n} {`,...e,"}"].join(`
${t}`);return r?.isActivated?o:rn({statement:o,spacePrefix:t})},"getOneOfStatement"),Ys=s(({jsonSchema:r,spacePrefix:e=""})=>{let t=r.listOfConstants?.map(i=>`${$e}${i.constant} = ${i.value};`)||[],n=Ws(r.options);return[`${e}enum ${r.title} {`,...n,...t,"}"].join(`
${e}`)},"getEnumStatement"),Ws=s(r=>r?r.filter(e=>e.optionKey==="allow_alias").map(e=>Gt(e,$e)):[],"getEnumOptions"),Zs=s((r,e=[])=>{let t=e.map(({packageName:i})=>`import "${i}";`);return[...r.map(i=>`import '${i.link}';`),...t,'import "google/protobuf/any.proto";']},"getImports"),Gt=s((r,e)=>{let t=r.optionValue,n=r.optionKey;return!t||!n?"":t==="true"||t==="false"?`${e}option ${r.optionKey} = ${t};`:`${e}option ${r.optionKey} = "${t}";`},"getOptionStatement"),Xs=s((r,e)=>{let t=je.lodash,n=t.isEmpty(r.reservedFieldNames)?"":`${e}reserved ${r.reservedFieldNames};`,i=t.isEmpty(r.reservedFieldNumbers)?"":`${e}reserved ${r.reservedFieldNumbers};`;return{reservedFieldNames:n,reservedFieldNumbers:i}},"getReservedStatements"),Ks=s(({jsonSchema:r,spacePrefix:e,protoVersion:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o,oneOfIndex:a})=>{let f=je.lodash,u=Object.entries((r.oneOf||[]).reduce((O,E)=>({...O,...E.properties}),{})).reduce((O,[E,A])=>({...O,[E]:{...A,parent:"oneOf"}}),{}),{collectionProperties:l,oneOfProperties:d}=Ls({fields:{...r.properties},oneOfFields:u,reservedNumbers:r.reservedFieldNumbers,oneOfIndex:a}),y=tn({fields:l,spacePrefix:e,protoVersion:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o}),S=tn({fields:d,spacePrefix:e,protoVersion:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o});return{messageFields:y,oneOfFields:S}},"getFieldsStatement"),tn=s(({fields:r,spacePrefix:e,protoVersion:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o})=>Object.keys(r).map(a=>{let f=r[a],u=!(f.fieldNumber&&f.fieldNumber!==""&&!isNaN(f.fieldNumber)),l=!!f.$ref,d=l?f.$ref.startsWith("file://"):!1,{fieldType:y,fieldOptions:S,hasReferenceError:O}=Qs({field:f,isReference:l,isExternalRef:d,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o}),E=ro({field:f,fieldType:y,fieldName:a,fieldOptions:S,protoVersion:t});return u?`${e}/*${E}	ERROR: you must specify a field number to include this field in the script*/`:O?`${e}/*${E}	ERROR: the field contains an incorrect reference to not existed definition*/`:f.isActivated?`${e}${E} ${f.description?` //${f.description}`:""}`:`${e}// ${E} ${f.description||""}`}),"convertFieldsToStatements"),Qs=s(({field:r,isReference:e,isExternalRef:t,internalDefinitions:n,modelDefinitions:i,externalDefinitions:o})=>{let a=s(u=>je.lodash.isEmpty(u)?"string":u,"getUDT");if(t)return zt(o,r.fieldOptions,r.GUID);if(!e){let u=r.subtype||r.type||r.typeUrl;if(r.type==="map"){let l=r.subtype!=="map<udt>"?r.subtype.slice(4,-1):a(r.udt_value_type);u=`map<${r.keyType},${l}>`}return u==="any"&&(r.typeUrl?u=r.typeUrl:u="google.protobuf.Any"),{fieldType:u,fieldOptions:r.fieldOptions}}return r.$ref.startsWith("#model")?zt(i,r.fieldOptions,r.GUID):zt(n,r.fieldOptions,r.GUID)},"getFieldInfo"),eo=s(({fieldRule:r,protoVersion:e})=>{let t=e==="proto2"?js:Vs;return(!r||r==="")&&e==="proto2"?"optional ":r==="singular"?"":t.includes(r)?`${r} `:""},"getValidatedFieldRule"),to=s(r=>{let e=je.lodash,t=(r||[]).filter(n=>n?.optionKey&&n?.optionValue).filter(n=>n.optionKey!=="allow_alias").map(n=>`${n.optionKey} = ${n.optionValue}`);return t.length?` [${t.join(", ")}]`:""},"getFieldOptionsStatement"),ro=s(({field:r,fieldType:e,fieldName:t,fieldOptions:n,protoVersion:i})=>{let o=eo({fieldRule:r.repetition,protoVersion:i}),a=to(n);return`${o}${e} ${t} = ${r.fieldNumber}${a};`},"getFieldStatement");on.exports={generateCollectionScript:zs}});var Ht=w((ja,un)=>{"use strict";un.exports=no;function no(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(s(function(f,u){t[n]=s(function(d){if(o)if(o=!1,d)u(d);else{for(var y=new Array(arguments.length-1),S=0;S<y.length;)y[S++]=arguments[S];f.apply(null,y)}},"callback");try{r.apply(e||null,t)}catch(l){o&&(o=!1,u(l))}},"executor"))}s(no,"asPromise")});var pn=w(cn=>{"use strict";var yt=cn;yt.length=s(function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n},"length");var Ve=new Array(64),ln=new Array(123);for(ae=0;ae<64;)ln[Ve[ae]=ae<26?ae+65:ae<52?ae+71:ae<62?ae-4:ae-59|43]=ae++;var ae;yt.encode=s(function(e,t,n){for(var i=null,o=[],a=0,f=0,u;t<n;){var l=e[t++];switch(f){case 0:o[a++]=Ve[l>>2],u=(l&3)<<4,f=1;break;case 1:o[a++]=Ve[u|l>>4],u=(l&15)<<2,f=2;break;case 2:o[a++]=Ve[u|l>>6],o[a++]=Ve[l&63],f=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return f&&(o[a++]=Ve[u],o[a++]=61,f===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},"encode");var fn="invalid encoding";yt.decode=s(function(e,t,n){for(var i=n,o=0,a,f=0;f<e.length;){var u=e.charCodeAt(f++);if(u===61&&o>1)break;if((u=ln[u])===void 0)throw Error(fn);switch(o){case 0:a=u,o=1;break;case 1:t[n++]=a<<2|(u&48)>>4,a=u,o=2;break;case 2:t[n++]=(a&15)<<4|(u&60)>>2,a=u,o=3;break;case 3:t[n++]=(a&3)<<6|u,o=0;break}}if(o===1)throw Error(fn);return n-i},"decode");yt.test=s(function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},"test")});var hn=w((Ga,dn)=>{"use strict";dn.exports=mt;function mt(){this._listeners={}}s(mt,"EventEmitter");mt.prototype.on=s(function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},"on");mt.prototype.off=s(function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},"off");mt.prototype.emit=s(function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this},"emit")});var wn=w((Ya,bn)=>{"use strict";bn.exports=yn(yn);function yn(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(u,l,d){e[0]=u,l[d]=t[0],l[d+1]=t[1],l[d+2]=t[2],l[d+3]=t[3]}s(i,"writeFloat_f32_cpy");function o(u,l,d){e[0]=u,l[d]=t[3],l[d+1]=t[2],l[d+2]=t[1],l[d+3]=t[0]}s(o,"writeFloat_f32_rev"),r.writeFloatLE=n?i:o,r.writeFloatBE=n?o:i;function a(u,l){return t[0]=u[l],t[1]=u[l+1],t[2]=u[l+2],t[3]=u[l+3],e[0]}s(a,"readFloat_f32_cpy");function f(u,l){return t[3]=u[l],t[2]=u[l+1],t[1]=u[l+2],t[0]=u[l+3],e[0]}s(f,"readFloat_f32_rev"),r.readFloatLE=n?a:f,r.readFloatBE=n?f:a}():function(){function e(n,i,o,a){var f=i<0?1:0;if(f&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((f<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((f<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((f<<31|u+127<<23|l)>>>0,o,a)}}s(e,"writeFloat_ieee754"),r.writeFloatLE=e.bind(null,mn),r.writeFloatBE=e.bind(null,gn);function t(n,i,o){var a=n(i,o),f=(a>>31)*2+1,u=a>>>23&255,l=a&8388607;return u===255?l?NaN:f*(1/0):u===0?f*1401298464324817e-60*l:f*Math.pow(2,u-150)*(l+8388608)}s(t,"readFloat_ieee754"),r.readFloatLE=t.bind(null,vn),r.readFloatBE=t.bind(null,On)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(u,l,d){e[0]=u,l[d]=t[0],l[d+1]=t[1],l[d+2]=t[2],l[d+3]=t[3],l[d+4]=t[4],l[d+5]=t[5],l[d+6]=t[6],l[d+7]=t[7]}s(i,"writeDouble_f64_cpy");function o(u,l,d){e[0]=u,l[d]=t[7],l[d+1]=t[6],l[d+2]=t[5],l[d+3]=t[4],l[d+4]=t[3],l[d+5]=t[2],l[d+6]=t[1],l[d+7]=t[0]}s(o,"writeDouble_f64_rev"),r.writeDoubleLE=n?i:o,r.writeDoubleBE=n?o:i;function a(u,l){return t[0]=u[l],t[1]=u[l+1],t[2]=u[l+2],t[3]=u[l+3],t[4]=u[l+4],t[5]=u[l+5],t[6]=u[l+6],t[7]=u[l+7],e[0]}s(a,"readDouble_f64_cpy");function f(u,l){return t[7]=u[l],t[6]=u[l+1],t[5]=u[l+2],t[4]=u[l+3],t[3]=u[l+4],t[2]=u[l+5],t[1]=u[l+6],t[0]=u[l+7],e[0]}s(f,"readDouble_f64_rev"),r.readDoubleLE=n?a:f,r.readDoubleBE=n?f:a}():function(){function e(n,i,o,a,f,u){var l=a<0?1:0;if(l&&(a=-a),a===0)n(0,f,u+i),n(1/a>0?0:2147483648,f,u+o);else if(isNaN(a))n(0,f,u+i),n(2146959360,f,u+o);else if(a>17976931348623157e292)n(0,f,u+i),n((l<<31|2146435072)>>>0,f,u+o);else{var d;if(a<22250738585072014e-324)d=a/5e-324,n(d>>>0,f,u+i),n((l<<31|d/4294967296)>>>0,f,u+o);else{var y=Math.floor(Math.log(a)/Math.LN2);y===1024&&(y=1023),d=a*Math.pow(2,-y),n(d*4503599627370496>>>0,f,u+i),n((l<<31|y+1023<<20|d*1048576&1048575)>>>0,f,u+o)}}}s(e,"writeDouble_ieee754"),r.writeDoubleLE=e.bind(null,mn,0,4),r.writeDoubleBE=e.bind(null,gn,4,0);function t(n,i,o,a,f){var u=n(a,f+i),l=n(a,f+o),d=(l>>31)*2+1,y=l>>>20&2047,S=4294967296*(l&1048575)+u;return y===2047?S?NaN:d*(1/0):y===0?d*5e-324*S:d*Math.pow(2,y-1075)*(S+4503599627370496)}s(t,"readDouble_ieee754"),r.readDoubleLE=t.bind(null,vn,0,4),r.readDoubleBE=t.bind(null,On,4,0)}(),r}s(yn,"factory");function mn(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}s(mn,"writeUintLE");function gn(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}s(gn,"writeUintBE");function vn(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}s(vn,"readUintLE");function On(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}s(On,"readUintBE")});var Yt=w((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}s(inquire,"inquire")});var En=w(_n=>{"use strict";var Wt=_n;Wt.length=s(function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t},"utf8_length");Wt.read=s(function(e,t,n){var i=n-t;if(i<1)return"";for(var o=null,a=[],f=0,u;t<n;)u=e[t++],u<128?a[f++]=u:u>191&&u<224?a[f++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,a[f++]=55296+(u>>10),a[f++]=56320+(u&1023)):a[f++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,f>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),f=0);return o?(f&&o.push(String.fromCharCode.apply(String,a.slice(0,f))),o.join("")):String.fromCharCode.apply(String,a.slice(0,f))},"utf8_read");Wt.write=s(function(e,t,n){for(var i=n,o,a,f=0;f<e.length;++f)o=e.charCodeAt(f),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(f+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++f,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128);return n-i},"utf8_write")});var Sn=w((Qa,An)=>{"use strict";An.exports=io;function io(r,e,t){var n=t||8192,i=n>>>1,o=null,a=n;return s(function(u){if(u<1||u>i)return r(u);a+u>n&&(o=r(n),a=0);var l=e.call(o,a,a+=u);return a&7&&(a=(a|7)+1),l},"pool_alloc")}s(io,"pool")});var Nn=w((tu,Dn)=>{"use strict";Dn.exports=j;var Qe=he();function j(r,e){this.lo=r>>>0,this.hi=e>>>0}s(j,"LongBits");var Be=j.zero=new j(0,0);Be.toNumber=function(){return 0};Be.zzEncode=Be.zzDecode=function(){return this};Be.length=function(){return 1};var so=j.zeroHash="\0\0\0\0\0\0\0\0";j.fromNumber=s(function(e){if(e===0)return Be;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new j(n,i)},"fromNumber");j.from=s(function(e){if(typeof e=="number")return j.fromNumber(e);if(Qe.isString(e))if(Qe.Long)e=Qe.Long.fromString(e);else return j.fromNumber(parseInt(e,10));return e.low||e.high?new j(e.low>>>0,e.high>>>0):Be},"from");j.prototype.toNumber=s(function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296},"toNumber");j.prototype.toLong=s(function(e){return Qe.Long?new Qe.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}},"toLong");var Ne=String.prototype.charCodeAt;j.fromHash=s(function(e){return e===so?Be:new j((Ne.call(e,0)|Ne.call(e,1)<<8|Ne.call(e,2)<<16|Ne.call(e,3)<<24)>>>0,(Ne.call(e,4)|Ne.call(e,5)<<8|Ne.call(e,6)<<16|Ne.call(e,7)<<24)>>>0)},"fromHash");j.prototype.toHash=s(function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},"toHash");j.prototype.zzEncode=s(function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},"zzEncode");j.prototype.zzDecode=s(function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},"zzDecode");j.prototype.length=s(function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10},"length")});var he=w(Zt=>{"use strict";var g=Zt;g.asPromise=Ht();g.base64=pn();g.EventEmitter=hn();g.float=wn();g.inquire=Yt();g.utf8=En();g.pool=Sn();g.LongBits=Nn();g.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);g.global=g.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Zt;g.emptyArray=Object.freeze?Object.freeze([]):[];g.emptyObject=Object.freeze?Object.freeze({}):{};g.isInteger=Number.isInteger||s(function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},"isInteger");g.isString=s(function(e){return typeof e=="string"||e instanceof String},"isString");g.isObject=s(function(e){return e&&typeof e=="object"},"isObject");g.isset=g.isSet=s(function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1},"isSet");g.Buffer=function(){try{var r=g.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();g._Buffer_from=null;g._Buffer_allocUnsafe=null;g.newBuffer=s(function(e){return typeof e=="number"?g.Buffer?g._Buffer_allocUnsafe(e):new g.Array(e):g.Buffer?g._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},"newBuffer");g.Array=typeof Uint8Array<"u"?Uint8Array:Array;g.Long=g.global.dcodeIO&&g.global.dcodeIO.Long||g.global.Long||g.inquire("long");g.key2Re=/^true|false|0|1$/;g.key32Re=/^-?(?:0|[1-9][0-9]*)$/;g.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;g.longToHash=s(function(e){return e?g.LongBits.from(e).toHash():g.LongBits.zeroHash},"longToHash");g.longFromHash=s(function(e,t){var n=g.LongBits.fromHash(e);return g.Long?g.Long.fromBits(n.lo,n.hi,t):n.toNumber(!!t)},"longFromHash");function Tn(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}s(Tn,"merge");g.merge=Tn;g.lcFirst=s(function(e){return e.charAt(0).toLowerCase()+e.substring(1)},"lcFirst");function xn(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Tn(this,n)}return s(e,"CustomError"),e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:s(function(){return r},"get"),set:void 0,enumerable:!1,configurable:!0},toString:{value:s(function(){return this.name+": "+this.message},"value"),writable:!0,enumerable:!1,configurable:!0}}),e}s(xn,"newError");g.newError=xn;g.ProtocolError=xn("ProtocolError");g.oneOfGetter=s(function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(t[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}},"getOneOf");g.oneOfSetter=s(function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},"setOneOf");g.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};g._configure=function(){var r=g.Buffer;if(!r){g._Buffer_from=g._Buffer_allocUnsafe=null;return}g._Buffer_from=r.from!==Uint8Array.from&&r.from||s(function(t,n){return new r(t,n)},"Buffer_from"),g._Buffer_allocUnsafe=r.allocUnsafe||s(function(t){return new r(t)},"Buffer_allocUnsafe")}});var vt=w((su,kn)=>{"use strict";kn.exports=x;var ee=he(),Xt,gt=ee.LongBits,Rn=ee.base64,qn=ee.utf8;function et(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}s(et,"Op");function Qt(){}s(Qt,"noop");function oo(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}s(oo,"State");function x(){this.len=0,this.head=new et(Qt,0,0),this.tail=this.head,this.states=null}s(x,"Writer");var Fn=s(function(){return ee.Buffer?s(function(){return(x.create=s(function(){return new Xt},"create_buffer"))()},"create_buffer_setup"):s(function(){return new x},"create_array")},"create");x.create=Fn();x.alloc=s(function(e){return new ee.Array(e)},"alloc");ee.Array!==Array&&(x.alloc=ee.pool(x.alloc,ee.Array.prototype.subarray));x.prototype._push=s(function(e,t,n){return this.tail=this.tail.next=new et(e,t,n),this.len+=t,this},"push");function er(r,e,t){e[t]=r&255}s(er,"writeByte");function ao(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}s(ao,"writeVarint32");function tr(r,e){this.len=r,this.next=void 0,this.val=e}s(tr,"VarintOp");tr.prototype=Object.create(et.prototype);tr.prototype.fn=ao;x.prototype.uint32=s(function(e){return this.len+=(this.tail=this.tail.next=new tr((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},"write_uint32");x.prototype.int32=s(function(e){return e<0?this._push(rr,10,gt.fromNumber(e)):this.uint32(e)},"write_int32");x.prototype.sint32=s(function(e){return this.uint32((e<<1^e>>31)>>>0)},"write_sint32");function rr(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}s(rr,"writeVarint64");x.prototype.uint64=s(function(e){var t=gt.from(e);return this._push(rr,t.length(),t)},"write_uint64");x.prototype.int64=x.prototype.uint64;x.prototype.sint64=s(function(e){var t=gt.from(e).zzEncode();return this._push(rr,t.length(),t)},"write_sint64");x.prototype.bool=s(function(e){return this._push(er,1,e?1:0)},"write_bool");function Kt(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}s(Kt,"writeFixed32");x.prototype.fixed32=s(function(e){return this._push(Kt,4,e>>>0)},"write_fixed32");x.prototype.sfixed32=x.prototype.fixed32;x.prototype.fixed64=s(function(e){var t=gt.from(e);return this._push(Kt,4,t.lo)._push(Kt,4,t.hi)},"write_fixed64");x.prototype.sfixed64=x.prototype.fixed64;x.prototype.float=s(function(e){return this._push(ee.float.writeFloatLE,4,e)},"write_float");x.prototype.double=s(function(e){return this._push(ee.float.writeDoubleLE,8,e)},"write_double");var uo=ee.Array.prototype.set?s(function(e,t,n){t.set(e,n)},"writeBytes_set"):s(function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]},"writeBytes_for");x.prototype.bytes=s(function(e){var t=e.length>>>0;if(!t)return this._push(er,1,0);if(ee.isString(e)){var n=x.alloc(t=Rn.length(e));Rn.decode(e,n,0),e=n}return this.uint32(t)._push(uo,t,e)},"write_bytes");x.prototype.string=s(function(e){var t=qn.length(e);return t?this.uint32(t)._push(qn.write,t,e):this._push(er,1,0)},"write_string");x.prototype.fork=s(function(){return this.states=new oo(this),this.head=this.tail=new et(Qt,0,0),this.len=0,this},"fork");x.prototype.reset=s(function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new et(Qt,0,0),this.len=0),this},"reset");x.prototype.ldelim=s(function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},"ldelim");x.prototype.finish=s(function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},"finish");x._configure=function(r){Xt=r,x.create=Fn(),Xt._configure()}});var Bn=w((au,$n)=>{"use strict";$n.exports=ye;var In=vt();(ye.prototype=Object.create(In.prototype)).constructor=ye;var Te=he();function ye(){In.call(this)}s(ye,"BufferWriter");ye._configure=function(){ye.alloc=Te._Buffer_allocUnsafe,ye.writeBytesBuffer=Te.Buffer&&Te.Buffer.prototype instanceof Uint8Array&&Te.Buffer.prototype.set.name==="set"?s(function(e,t,n){t.set(e,n)},"writeBytesBuffer_set"):s(function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]},"writeBytesBuffer_copy")};ye.prototype.bytes=s(function(e){Te.isString(e)&&(e=Te._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(ye.writeBytesBuffer,t,e),this},"write_bytes_buffer");function fo(r,e,t){r.length<40?Te.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}s(fo,"writeStringBuffer");ye.prototype.string=s(function(e){var t=Te.Buffer.byteLength(e);return this.uint32(t),t&&this._push(fo,t,e),this},"write_string_buffer");ye._configure()});var bt=w((fu,Jn)=>{"use strict";Jn.exports=M;var ue=he(),ir,Mn=ue.LongBits,lo=ue.utf8;function fe(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}s(fe,"indexOutOfRange");function M(r){this.buf=r,this.pos=0,this.len=r.length}s(M,"Reader");var Pn=typeof Uint8Array<"u"?s(function(e){if(e instanceof Uint8Array||Array.isArray(e))return new M(e);throw Error("illegal buffer")},"create_typed_array"):s(function(e){if(Array.isArray(e))return new M(e);throw Error("illegal buffer")},"create_array"),Ln=s(function(){return ue.Buffer?s(function(t){return(M.create=s(function(i){return ue.Buffer.isBuffer(i)?new ir(i):Pn(i)},"create_buffer"))(t)},"create_buffer_setup"):Pn},"create");M.create=Ln();M.prototype._slice=ue.Array.prototype.subarray||ue.Array.prototype.slice;M.prototype.uint32=s(function(){var e=4294967295;return s(function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,fe(this,10);return e},"read_uint32")},"read_uint32_setup")();M.prototype.int32=s(function(){return this.uint32()|0},"read_int32");M.prototype.sint32=s(function(){var e=this.uint32();return e>>>1^-(e&1)|0},"read_sint32");function nr(){var r=new Mn(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw fe(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw fe(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}s(nr,"readLongVarint");M.prototype.bool=s(function(){return this.uint32()!==0},"read_bool");function Ot(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}s(Ot,"readFixed32_end");M.prototype.fixed32=s(function(){if(this.pos+4>this.len)throw fe(this,4);return Ot(this.buf,this.pos+=4)},"read_fixed32");M.prototype.sfixed32=s(function(){if(this.pos+4>this.len)throw fe(this,4);return Ot(this.buf,this.pos+=4)|0},"read_sfixed32");function Cn(){if(this.pos+8>this.len)throw fe(this,8);return new Mn(Ot(this.buf,this.pos+=4),Ot(this.buf,this.pos+=4))}s(Cn,"readFixed64");M.prototype.float=s(function(){if(this.pos+4>this.len)throw fe(this,4);var e=ue.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},"read_float");M.prototype.double=s(function(){if(this.pos+8>this.len)throw fe(this,4);var e=ue.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},"read_double");M.prototype.bytes=s(function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw fe(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var i=ue.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)},"read_bytes");M.prototype.string=s(function(){var e=this.bytes();return lo.read(e,0,e.length)},"read_string");M.prototype.skip=s(function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw fe(this,e);this.pos+=e}else do if(this.pos>=this.len)throw fe(this);while(this.buf[this.pos++]&128);return this},"skip");M.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};M._configure=function(r){ir=r,M.create=Ln(),ir._configure();var e=ue.Long?"toLong":"toNumber";ue.merge(M.prototype,{int64:s(function(){return nr.call(this)[e](!1)},"read_int64"),uint64:s(function(){return nr.call(this)[e](!0)},"read_uint64"),sint64:s(function(){return nr.call(this).zzDecode()[e](!1)},"read_sint64"),fixed64:s(function(){return Cn.call(this)[e](!0)},"read_fixed64"),sfixed64:s(function(){return Cn.call(this)[e](!1)},"read_sfixed64")})}});var zn=w((cu,Un)=>{"use strict";Un.exports=Pe;var Vn=bt();(Pe.prototype=Object.create(Vn.prototype)).constructor=Pe;var jn=he();function Pe(r){Vn.call(this,r)}s(Pe,"BufferReader");Pe._configure=function(){jn.Buffer&&(Pe.prototype._slice=jn.Buffer.prototype.slice)};Pe.prototype.string=s(function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},"read_string_buffer");Pe._configure()});var Hn=w((du,Gn)=>{"use strict";Gn.exports=tt;var sr=he();(tt.prototype=Object.create(sr.EventEmitter.prototype)).constructor=tt;function tt(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");sr.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!e,this.responseDelimited=!!t}s(tt,"Service");tt.prototype.rpcCall=s(function r(e,t,n,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return sr.asPromise(r,a,e,t,n,i);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return a.rpcImpl(e,t[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),s(function(u,l){if(u)return a.emit("error",u,e),o(u);if(l===null){a.end(!0);return}if(!(l instanceof n))try{l=n[a.responseDelimited?"decodeDelimited":"decode"](l)}catch(d){return a.emit("error",d,e),o(d)}return a.emit("data",l,e),o(null,l)},"rpcCallback"))}catch(f){a.emit("error",f,e),setTimeout(function(){o(f)},0);return}},"rpcCall");tt.prototype.end=s(function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},"end")});var or=w(Yn=>{"use strict";var co=Yn;co.Service=Hn()});var ar=w((mu,Wn)=>{"use strict";Wn.exports={}});var Kn=w(Xn=>{"use strict";var H=Xn;H.build="minimal";H.Writer=vt();H.BufferWriter=Bn();H.Reader=bt();H.BufferReader=zn();H.util=he();H.rpc=or();H.roots=ar();H.configure=Zn;function Zn(){H.util._configure(),H.Writer._configure(H.BufferWriter),H.Reader._configure(H.BufferReader)}s(Zn,"configure");Zn()});var ei=w((Ou,Qn)=>{"use strict";Qn.exports=ur;function ur(r,e){typeof r=="string"&&(e=r,r=void 0);var t=[];function n(o){if(typeof o!="string"){var a=i();if(ur.verbose&&console.log("codegen: "+a),a="return "+a,o){for(var f=Object.keys(o),u=new Array(f.length+1),l=new Array(f.length),d=0;d<f.length;)u[d]=f[d],l[d]=o[f[d++]];return u[d]=a,Function.apply(null,u).apply(null,l)}return Function(a)()}for(var y=new Array(arguments.length-1),S=0;S<y.length;)y[S]=arguments[++S];if(S=0,o=o.replace(/%([%dfijs])/g,s(function(E,A){var F=y[S++];switch(A){case"d":case"f":return String(Number(F));case"i":return String(Math.floor(F));case"j":return JSON.stringify(F);case"s":return String(F)}return"%"},"replace")),S!==y.length)throw Error("parameter count mismatch");return t.push(o),n}s(n,"Codegen");function i(o){return"function "+(o||e||"")+"("+(r&&r.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return s(i,"toString"),n.toString=i,n}s(ur,"codegen");ur.verbose=!1});var ri=w((wu,ti)=>{"use strict";ti.exports=rt;var po=Ht(),ho=Yt(),fr=ho("fs");function rt(r,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&fr&&fr.readFile?fr.readFile(r,s(function(i,o){return i&&typeof XMLHttpRequest<"u"?rt.xhr(r,e,t):i?t(i):t(null,e.binary?o:o.toString("utf8"))},"fetchReadFileCallback")):rt.xhr(r,e,t):po(rt,this,r,e)}s(rt,"fetch");rt.xhr=s(function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=s(function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return n(Error("status "+i.status));if(t.binary){var a=i.response;if(!a){a=[];for(var f=0;f<i.responseText.length;++f)a.push(i.responseText.charCodeAt(f)&255)}return n(null,typeof Uint8Array<"u"?new Uint8Array(a):a)}return n(null,i.responseText)}},"fetchOnReadyStateChange"),t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()},"fetch_xhr")});var si=w(ii=>{"use strict";var cr=ii,ni=cr.isAbsolute=s(function(e){return/^(?:\/|\w+:)/.test(e)},"isAbsolute"),lr=cr.normalize=s(function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),n=ni(e),i="";n&&(i=t.shift()+"/");for(var o=0;o<t.length;)t[o]===".."?o>0&&t[o-1]!==".."?t.splice(--o,2):n?t.splice(o,1):++o:t[o]==="."?t.splice(o,1):++o;return i+t.join("/")},"normalize");cr.resolve=s(function(e,t,n){return n||(t=lr(t)),ni(t)?t:(n||(e=lr(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?lr(e+"/"+t):t)},"resolve")});var Ce=w(oi=>{"use strict";var nt=oi,yo=V(),mo=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function it(r,e){var t=0,n={};for(e|=0;t<r.length;)n[mo[t+e]]=r[t++];return n}s(it,"bake");nt.basic=it([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);nt.defaults=it([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",yo.emptyArray,null]);nt.long=it([0,0,0,1,1],7);nt.mapKey=it([0,0,0,5,5,0,0,0,1,1,0,2],2);nt.packed=it([1,5,0,0,0,5,5,0,0,0,1,1,0])});var xe=w((Nu,fi)=>{"use strict";fi.exports=te;var wt=Me();((te.prototype=Object.create(wt.prototype)).constructor=te).className="Field";var ai=le(),ui=Ce(),J=V(),pr,go=/^required|optional|repeated$/;te.fromJSON=s(function(e,t){return new te(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},"fromJSON");function te(r,e,t,n,i,o,a){if(J.isObject(n)?(a=i,o=n,n=i=void 0):J.isObject(i)&&(a=o,o=i,i=void 0),wt.call(this,r,o),!J.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!J.isString(t))throw TypeError("type must be a string");if(n!==void 0&&!go.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!J.isString(i))throw TypeError("extend must be a string");n==="proto3_optional"&&(n="optional"),this.rule=n&&n!=="optional"?n:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.required=n==="required",this.optional=!this.required,this.repeated=n==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=J.Long?ui.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=a}s(te,"Field");Object.defineProperty(te.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});te.prototype.setOption=s(function(e,t,n){return e==="packed"&&(this._packed=null),wt.prototype.setOption.call(this,e,t,n)},"setOption");te.prototype.toJSON=s(function(e){var t=e?!!e.keepComments:!1;return J.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},"toJSON");te.prototype.resolve=s(function(){if(this.resolved)return this;if((this.typeDefault=ui.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof pr?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof ai&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof ai))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=J.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;J.base64.test(this.typeDefault)?J.base64.decode(this.typeDefault,e=J.newBuffer(J.base64.length(this.typeDefault)),0):J.utf8.write(this.typeDefault,e=J.newBuffer(J.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=J.emptyObject:this.repeated?this.defaultValue=J.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof pr&&(this.parent.ctor.prototype[this.name]=this.defaultValue),wt.prototype.resolve.call(this)},"resolve");te.d=s(function(e,t,n,i){return typeof t=="function"?t=J.decorateType(t).name:t&&typeof t=="object"&&(t=J.decorateEnum(t).name),s(function(a,f){J.decorateType(a.constructor).add(new te(f,e,t,n,{default:i}))},"fieldDecorator")},"decorateField");te._configure=s(function(e){pr=e},"configure")});var Ue=w((xu,pi)=>{"use strict";pi.exports=re;var Et=Me();((re.prototype=Object.create(Et.prototype)).constructor=re).className="OneOf";var li=xe(),_t=V();function re(r,e,t,n){if(Array.isArray(e)||(t=e,e=void 0),Et.call(this,r,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=n}s(re,"OneOf");re.fromJSON=s(function(e,t){return new re(e,t.oneof,t.options,t.comment)},"fromJSON");re.prototype.toJSON=s(function(e){var t=e?!!e.keepComments:!1;return _t.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},"toJSON");function ci(r){if(r.parent)for(var e=0;e<r.fieldsArray.length;++e)r.fieldsArray[e].parent||r.parent.add(r.fieldsArray[e])}s(ci,"addFieldsToParent");re.prototype.add=s(function(e){if(!(e instanceof li))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,ci(this),this},"add");re.prototype.remove=s(function(e){if(!(e instanceof li))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this},"remove");re.prototype.onAdd=s(function(e){Et.prototype.onAdd.call(this,e);for(var t=this,n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}ci(this)},"onAdd");re.prototype.onRemove=s(function(e){for(var t=0,n;t<this.fieldsArray.length;++t)(n=this.fieldsArray[t]).parent&&n.parent.remove(n);Et.prototype.onRemove.call(this,e)},"onRemove");re.d=s(function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return s(function(i,o){_t.decorateType(i.constructor).add(new re(o,e)),Object.defineProperty(i,o,{get:_t.oneOfGetter(e),set:_t.oneOfSetter(e)})},"oneOfDecorator")},"decorateOneOf")});var He=w((qu,mi)=>{"use strict";mi.exports=R;var dr=Me();((R.prototype=Object.create(dr.prototype)).constructor=R).className="Namespace";var di=xe(),At=V(),vo=Ue(),ze,st,Ge;R.fromJSON=s(function(e,t){return new R(e,t.options).addJSON(t.nested)},"fromJSON");function hi(r,e){if(r&&r.length){for(var t={},n=0;n<r.length;++n)t[r[n].name]=r[n].toJSON(e);return t}}s(hi,"arrayToJSON");R.arrayToJSON=hi;R.isReservedId=s(function(e,t){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!="string"&&e[n][0]<=t&&e[n][1]>t)return!0}return!1},"isReservedId");R.isReservedName=s(function(e,t){if(e){for(var n=0;n<e.length;++n)if(e[n]===t)return!0}return!1},"isReservedName");function R(r,e){dr.call(this,r,e),this.nested=void 0,this._nestedArray=null}s(R,"Namespace");function yi(r){return r._nestedArray=null,r}s(yi,"clearCache");Object.defineProperty(R.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=At.toArray(this.nested))}});R.prototype.toJSON=s(function(e){return At.toObject(["options",this.options,"nested",hi(this.nestedArray,e)])},"toJSON");R.prototype.addJSON=s(function(e){var t=this;if(e)for(var n=Object.keys(e),i=0,o;i<n.length;++i)o=e[n[i]],t.add((o.fields!==void 0?ze.fromJSON:o.values!==void 0?Ge.fromJSON:o.methods!==void 0?st.fromJSON:o.id!==void 0?di.fromJSON:R.fromJSON)(n[i],o));return this},"addJSON");R.prototype.get=s(function(e){return this.nested&&this.nested[e]||null},"get");R.prototype.getEnum=s(function(e){if(this.nested&&this.nested[e]instanceof Ge)return this.nested[e].values;throw Error("no such enum: "+e)},"getEnum");R.prototype.add=s(function(e){if(!(e instanceof di&&e.extend!==void 0||e instanceof ze||e instanceof vo||e instanceof Ge||e instanceof st||e instanceof R))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof R&&e instanceof R&&!(t instanceof ze||t instanceof st)){for(var n=t.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),yi(this)},"add");R.prototype.remove=s(function(e){if(!(e instanceof dr))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),yi(this)},"remove");R.prototype.define=s(function(e,t){if(At.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(n=n.nested[i],!(n instanceof R))throw Error("path conflicts with non-namespace objects")}else n.add(n=new R(i))}return t&&n.addJSON(t),n},"define");R.prototype.resolveAll=s(function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof R?e[t++].resolveAll():e[t++].resolve();return this.resolve()},"resolveAll");R.prototype.lookup=s(function(e,t,n){if(typeof t=="boolean"?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),At.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof R&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof R&&(i=this._nestedArray[o].lookup(e,t,!0)))return i;return this.parent===null||n?null:this.parent.lookup(e,t)},"lookup");R.prototype.lookupType=s(function(e){var t=this.lookup(e,[ze]);if(!t)throw Error("no such type: "+e);return t},"lookupType");R.prototype.lookupEnum=s(function(e){var t=this.lookup(e,[Ge]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},"lookupEnum");R.prototype.lookupTypeOrEnum=s(function(e){var t=this.lookup(e,[ze,Ge]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},"lookupTypeOrEnum");R.prototype.lookupService=s(function(e){var t=this.lookup(e,[st]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},"lookupService");R._configure=function(r,e,t){ze=r,st=e,Ge=t}});var St=w((ku,gi)=>{"use strict";gi.exports=_e;var hr=xe();((_e.prototype=Object.create(hr.prototype)).constructor=_e).className="MapField";var Oo=Ce(),ot=V();function _e(r,e,t,n,i,o){if(hr.call(this,r,e,n,void 0,void 0,i,o),!ot.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}s(_e,"MapField");_e.fromJSON=s(function(e,t){return new _e(e,t.id,t.keyType,t.type,t.options,t.comment)},"fromJSON");_e.prototype.toJSON=s(function(e){var t=e?!!e.keepComments:!1;return ot.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},"toJSON");_e.prototype.resolve=s(function(){if(this.resolved)return this;if(Oo.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return hr.prototype.resolve.call(this)},"resolve");_e.d=s(function(e,t,n){return typeof n=="function"?n=ot.decorateType(n).name:n&&typeof n=="object"&&(n=ot.decorateEnum(n).name),s(function(o,a){ot.decorateType(o.constructor).add(new _e(a,e,t,n))},"mapFieldDecorator")},"decorateMapField")});var Dt=w(($u,vi)=>{"use strict";vi.exports=Le;var yr=Me();((Le.prototype=Object.create(yr.prototype)).constructor=Le).className="Method";var Ye=V();function Le(r,e,t,n,i,o,a,f,u){if(Ye.isObject(i)?(a=i,i=o=void 0):Ye.isObject(o)&&(a=o,o=void 0),!(e===void 0||Ye.isString(e)))throw TypeError("type must be a string");if(!Ye.isString(t))throw TypeError("requestType must be a string");if(!Ye.isString(n))throw TypeError("responseType must be a string");yr.call(this,r,a),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=n,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=u}s(Le,"Method");Le.fromJSON=s(function(e,t){return new Le(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},"fromJSON");Le.prototype.toJSON=s(function(e){var t=e?!!e.keepComments:!1;return Ye.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},"toJSON");Le.prototype.resolve=s(function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),yr.prototype.resolve.call(this))},"resolve")});var Nt=w((Pu,bi)=>{"use strict";bi.exports=ne;var Re=He();((ne.prototype=Object.create(Re.prototype)).constructor=ne).className="Service";var mr=Dt(),at=V(),bo=or();function ne(r,e){Re.call(this,r,e),this.methods={},this._methodsArray=null}s(ne,"Service");ne.fromJSON=s(function(e,t){var n=new ne(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)n.add(mr.fromJSON(i[o],t.methods[i[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},"fromJSON");ne.prototype.toJSON=s(function(e){var t=Re.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return at.toObject(["options",t&&t.options||void 0,"methods",Re.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},"toJSON");Object.defineProperty(ne.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=at.toArray(this.methods))}});function Oi(r){return r._methodsArray=null,r}s(Oi,"clearCache");ne.prototype.get=s(function(e){return this.methods[e]||Re.prototype.get.call(this,e)},"get");ne.prototype.resolveAll=s(function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return Re.prototype.resolve.call(this)},"resolveAll");ne.prototype.add=s(function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof mr?(this.methods[e.name]=e,e.parent=this,Oi(this)):Re.prototype.add.call(this,e)},"add");ne.prototype.remove=s(function(e){if(e instanceof mr){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,Oi(this)}return Re.prototype.remove.call(this,e)},"remove");ne.prototype.create=s(function(e,t,n){for(var i=new bo.Service(e,t,n),o=0,a;o<this.methodsArray.length;++o){var f=at.lcFirst((a=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[f]=at.codegen(["r","c"],at.isReserved(f)?f+"_":f)("return this.rpcCall(m,q,s,r,c)")({m:a,q:a.resolvedRequestType.ctor,s:a.resolvedResponseType.ctor})}return i},"create")});var Tt=w((Mu,wi)=>{"use strict";wi.exports=me;var wo=he();function me(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)this[e[t]]=r[e[t]]}s(me,"Message");me.create=s(function(e){return this.$type.create(e)},"create");me.encode=s(function(e,t){return this.$type.encode(e,t)},"encode");me.encodeDelimited=s(function(e,t){return this.$type.encodeDelimited(e,t)},"encodeDelimited");me.decode=s(function(e){return this.$type.decode(e)},"decode");me.decodeDelimited=s(function(e){return this.$type.decodeDelimited(e)},"decodeDelimited");me.verify=s(function(e){return this.$type.verify(e)},"verify");me.fromObject=s(function(e){return this.$type.fromObject(e)},"fromObject");me.toObject=s(function(e,t){return this.$type.toObject(e,t)},"toObject");me.prototype.toJSON=s(function(){return this.$type.toObject(this,wo.toJSONOptions)},"toJSON")});var gr=w((Ju,Ei)=>{"use strict";Ei.exports=Ao;var _o=le(),Ee=Ce(),_i=V();function Eo(r){return"missing required '"+r.name+"'"}s(Eo,"missing");function Ao(r){var e=_i.codegen(["r","l"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter(function(f){return f.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");r.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<r.fieldsArray.length;++t){var n=r._fieldsArray[t].resolve(),i=n.resolvedType instanceof _o?"int32":n.type,o="m"+_i.safeProp(n.name);e("case %i: {",n.id),n.map?(e("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),Ee.defaults[n.keyType]!==void 0?e("k=%j",Ee.defaults[n.keyType]):e("k=null"),Ee.defaults[i]!==void 0?e("value=%j",Ee.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",n.keyType)("case 2:"),Ee.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),Ee.long[n.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',o):e("%s[k]=value",o)):n.repeated?(e("if(!(%s&&%s.length))",o,o)("%s=[]",o),Ee.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,i)("}else"),Ee.basic[i]===void 0?e(n.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",o,t):e("%s.push(r.%s())",o,i)):Ee.basic[i]===void 0?e(n.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",o,t):e("%s=r.%s()",o,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<r._fieldsArray.length;++t){var a=r._fieldsArray[t];a.required&&e("if(!m.hasOwnProperty(%j))",a.name)("throw util.ProtocolError(%j,{instance:m})",Eo(a))}return e("return m")}s(Ao,"decoder")});var br=w((Vu,Ai)=>{"use strict";Ai.exports=No;var So=le(),vr=V();function ie(r,e){return r.name+": "+e+(r.repeated&&e!=="array"?"[]":r.map&&e!=="object"?"{k:"+r.keyType+"}":"")+" expected"}s(ie,"invalid");function Or(r,e,t,n){if(e.resolvedType)if(e.resolvedType instanceof So){r("switch(%s){",n)("default:")("return%j",ie(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),o=0;o<i.length;++o)r("case %i:",e.resolvedType.values[i[o]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",t,n)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",n)("return%j",ie(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",ie(e,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',n)("return%j",ie(e,"number"));break;case"bool":r('if(typeof %s!=="boolean")',n)("return%j",ie(e,"boolean"));break;case"string":r("if(!util.isString(%s))",n)("return%j",ie(e,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",ie(e,"buffer"));break}return r}s(Or,"genVerifyValue");function Do(r,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",t)("return%j",ie(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",t)("return%j",ie(e,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",t)("return%j",ie(e,"boolean key"));break}return r}s(Do,"genVerifyKey");function No(r){var e=vr.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=r.oneofsArray,n={};t.length&&e("var p={}");for(var i=0;i<r.fieldsArray.length;++i){var o=r._fieldsArray[i].resolve(),a="m"+vr.safeProp(o.name);if(o.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",a,o.name),o.map)e("if(!util.isObject(%s))",a)("return%j",ie(o,"object"))("var k=Object.keys(%s)",a)("for(var i=0;i<k.length;++i){"),Do(e,o,"k[i]"),Or(e,o,i,a+"[k[i]]")("}");else if(o.repeated)e("if(!Array.isArray(%s))",a)("return%j",ie(o,"array"))("for(var i=0;i<%s.length;++i){",a),Or(e,o,i,a+"[i]")("}");else{if(o.partOf){var f=vr.safeProp(o.partOf.name);n[o.partOf.name]===1&&e("if(p%s===1)",f)("return%j",o.partOf.name+": multiple values"),n[o.partOf.name]=1,e("p%s=1",f)}Or(e,o,i,a)}o.optional&&e("}")}return e("return null")}s(No,"verifier")});var Er=w(Di=>{"use strict";var Si=Di,ut=le(),ge=V();function wr(r,e,t,n){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof ut){r("switch(d%s){",n);for(var o=e.resolvedType.values,a=Object.keys(o),f=0;f<a.length;++f)o[a[f]]===e.typeDefault&&!i&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||r("break"),i=!0),r("case%j:",a[f])("case %i:",o[a[f]])("m%s=%j",n,o[a[f]])("break");r("}")}else r('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,t,n);else{var u=!1;switch(e.type){case"double":case"float":r("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":r('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":r("m%s=String(d%s)",n,n);break;case"bool":r("m%s=Boolean(d%s)",n,n);break}}return r}s(wr,"genValuePartial_fromObject");Si.fromObject=s(function(e){var t=e.fieldsArray,n=ge.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),a=ge.safeProp(o.name);o.map?(n("if(d%s){",a)('if(typeof d%s!=="object")',a)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",a)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",a),wr(n,o,i,a+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",a)("if(!Array.isArray(d%s))",a)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",a)("for(var i=0;i<d%s.length;++i){",a),wr(n,o,i,a+"[i]")("}")("}")):(o.resolvedType instanceof ut||n("if(d%s!=null){",a),wr(n,o,i,a),o.resolvedType instanceof ut||n("}"))}return n("return m")},"fromObject");function _r(r,e,t,n){if(e.resolvedType)e.resolvedType instanceof ut?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,t,n,n,t,n,n):r("d%s=types[%i].toObject(m%s,o)",n,t,n);else{var i=!1;switch(e.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:r("d%s=m%s",n,n);break}}return r}s(_r,"genValuePartial_toObject");Si.toObject=s(function(e){var t=e.fieldsArray.slice().sort(ge.compareFieldsById);if(!t.length)return ge.codegen()("return {}");for(var n=ge.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],a=[],f=0;f<t.length;++f)t[f].partOf||(t[f].resolve().repeated?i:t[f].map?o:a).push(t[f]);if(i.length){for(n("if(o.arrays||o.defaults){"),f=0;f<i.length;++f)n("d%s=[]",ge.safeProp(i[f].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),f=0;f<o.length;++f)n("d%s={}",ge.safeProp(o[f].name));n("}")}if(a.length){for(n("if(o.defaults){"),f=0;f<a.length;++f){var u=a[f],l=ge.safeProp(u.name);if(u.resolvedType instanceof ut)n("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else n("d%s=%j",l,u.typeDefault)}n("}")}var y=!1;for(f=0;f<t.length;++f){var u=t[f],S=e._fieldsArray.indexOf(u),l=ge.safeProp(u.name);u.map?(y||(y=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),_r(n,u,S,l+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),_r(n,u,S,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),_r(n,u,S,l),u.partOf&&n("if(o.oneofs)")("d%s=%j",ge.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")},"toObject")});var Ar=w(Ni=>{"use strict";var To=Ni,xo=Tt();To[".google.protobuf.Any"]={fromObject:function(r){if(r&&r["@type"]){var e=r["@type"].substring(r["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var n=r["@type"].charAt(0)==="."?r["@type"].slice(1):r["@type"];return n.indexOf("/")===-1&&(n="/"+n),this.create({type_url:n,value:t.encode(t.fromObject(r)).finish()})}}return this.fromObject(r)},toObject:function(r,e){var t="type.googleapis.com/",n="",i="";if(e&&e.json&&r.type_url&&r.value){i=r.type_url.substring(r.type_url.lastIndexOf("/")+1),n=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var o=this.lookup(i);o&&(r=o.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof xo){var a=r.$type.toObject(r,e),f=r.$type.fullName[0]==="."?r.$type.fullName.slice(1):r.$type.fullName;return n===""&&(n=t),i=n+f,a["@type"]=i,a}return this.toObject(r,e)}}});var qt=w((Yu,xi)=>{"use strict";xi.exports=I;var ce=He();((I.prototype=Object.create(ce.prototype)).constructor=I).className="Type";var Ro=le(),Nr=Ue(),xt=xe(),qo=St(),Fo=Nt(),Sr=Tt(),Dr=bt(),ko=vt(),z=V(),Io=Tr(),$o=gr(),Bo=br(),Ti=Er(),Po=Ar();function I(r,e){ce.call(this,r,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}s(I,"Type");Object.defineProperties(I.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),e=0;e<r.length;++e){var t=this.fields[r[e]],n=t.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=z.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=z.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=I.generateConstructor(this)())},set:function(r){var e=r.prototype;e instanceof Sr||((r.prototype=new Sr).constructor=r,z.merge(r.prototype,e)),r.$type=r.prototype.$type=this,z.merge(r,Sr,!0),this._ctor=r;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var n={};for(t=0;t<this.oneofsArray.length;++t)n[this._oneofsArray[t].resolve().name]={get:z.oneOfGetter(this._oneofsArray[t].oneof),set:z.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(r.prototype,n)}}});I.generateConstructor=s(function(e){for(var t=z.codegen(["p"],e.name),n=0,i;n<e.fieldsArray.length;++n)(i=e._fieldsArray[n]).map?t("this%s={}",z.safeProp(i.name)):i.repeated&&t("this%s=[]",z.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},"generateConstructor");function Rt(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}s(Rt,"clearCache");I.fromJSON=s(function(e,t){var n=new I(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var i=Object.keys(t.fields),o=0;o<i.length;++o)n.add((typeof t.fields[i[o]].keyType<"u"?qo.fromJSON:xt.fromJSON)(i[o],t.fields[i[o]]));if(t.oneofs)for(i=Object.keys(t.oneofs),o=0;o<i.length;++o)n.add(Nr.fromJSON(i[o],t.oneofs[i[o]]));if(t.nested)for(i=Object.keys(t.nested),o=0;o<i.length;++o){var a=t.nested[i[o]];n.add((a.id!==void 0?xt.fromJSON:a.fields!==void 0?I.fromJSON:a.values!==void 0?Ro.fromJSON:a.methods!==void 0?Fo.fromJSON:ce.fromJSON)(i[o],a))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},"fromJSON");I.prototype.toJSON=s(function(e){var t=ce.prototype.toJSON.call(this,e),n=e?!!e.keepComments:!1;return z.toObject(["options",t&&t.options||void 0,"oneofs",ce.arrayToJSON(this.oneofsArray,e),"fields",ce.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},"toJSON");I.prototype.resolveAll=s(function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return ce.prototype.resolveAll.call(this)},"resolveAll");I.prototype.get=s(function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},"get");I.prototype.add=s(function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof xt&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),Rt(this)}return e instanceof Nr?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),Rt(this)):ce.prototype.add.call(this,e)},"add");I.prototype.remove=s(function(e){if(e instanceof xt&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),Rt(this)}if(e instanceof Nr){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),Rt(this)}return ce.prototype.remove.call(this,e)},"remove");I.prototype.isReservedId=s(function(e){return ce.isReservedId(this.reserved,e)},"isReservedId");I.prototype.isReservedName=s(function(e){return ce.isReservedName(this.reserved,e)},"isReservedName");I.prototype.create=s(function(e){return new this.ctor(e)},"create");I.prototype.setup=s(function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=Io(this)({Writer:ko,types:t,util:z}),this.decode=$o(this)({Reader:Dr,types:t,util:z}),this.verify=Bo(this)({types:t,util:z}),this.fromObject=Ti.fromObject(this)({types:t,util:z}),this.toObject=Ti.toObject(this)({types:t,util:z});var i=Po[e];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this},"setup");I.prototype.encode=s(function(e,t){return this.setup().encode(e,t)},"encode_setup");I.prototype.encodeDelimited=s(function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},"encodeDelimited");I.prototype.decode=s(function(e,t){return this.setup().decode(e,t)},"decode_setup");I.prototype.decodeDelimited=s(function(e){return e instanceof Dr||(e=Dr.create(e)),this.decode(e,e.uint32())},"decodeDelimited");I.prototype.verify=s(function(e){return this.setup().verify(e)},"verify_setup");I.prototype.fromObject=s(function(e){return this.setup().fromObject(e)},"fromObject");I.prototype.toObject=s(function(e,t){return this.setup().toObject(e,t)},"toObject");I.d=s(function(e){return s(function(n){z.decorateType(n,e)},"typeDecorator")},"decorateType")});var It=w((Zu,Ii)=>{"use strict";Ii.exports=X;var kt=He();((X.prototype=Object.create(kt.prototype)).constructor=X).className="Root";var Rr=xe(),qi=le(),Co=Ue(),qe=V(),Fi,xr,ft;function X(r){kt.call(this,"",r),this.deferred=[],this.files=[]}s(X,"Root");X.fromJSON=s(function(e,t){return t||(t=new X),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},"fromJSON");X.prototype.resolvePath=qe.path.resolve;X.prototype.fetch=qe.fetch;function ki(){}s(ki,"SYNC");X.prototype.load=s(function r(e,t,n){typeof t=="function"&&(n=t,t=void 0);var i=this;if(!n)return qe.asPromise(r,i,e,t);var o=n===ki;function a(O,E){if(n){if(o)throw O;var A=n;n=null,A(O,E)}}s(a,"finish");function f(O){var E=O.lastIndexOf("google/protobuf/");if(E>-1){var A=O.substring(E);if(A in ft)return A}return null}s(f,"getBundledFileName");function u(O,E){try{if(qe.isString(E)&&E.charAt(0)==="{"&&(E=JSON.parse(E)),!qe.isString(E))i.setOptions(E.options).addJSON(E.nested);else{xr.filename=O;var A=xr(E,i,t),F,P=0;if(A.imports)for(;P<A.imports.length;++P)(F=f(A.imports[P])||i.resolvePath(O,A.imports[P]))&&l(F);if(A.weakImports)for(P=0;P<A.weakImports.length;++P)(F=f(A.weakImports[P])||i.resolvePath(O,A.weakImports[P]))&&l(F,!0)}}catch(b){a(b)}!o&&!d&&a(null,i)}s(u,"process");function l(O,E){if(O=f(O)||O,!(i.files.indexOf(O)>-1)){if(i.files.push(O),O in ft){o?u(O,ft[O]):(++d,setTimeout(function(){--d,u(O,ft[O])}));return}if(o){var A;try{A=qe.fs.readFileSync(O).toString("utf8")}catch(F){E||a(F);return}u(O,A)}else++d,i.fetch(O,function(F,P){if(--d,!!n){if(F){E?d||a(null,i):a(F);return}u(O,P)}})}}s(l,"fetch");var d=0;qe.isString(e)&&(e=[e]);for(var y=0,S;y<e.length;++y)(S=i.resolvePath("",e[y]))&&l(S);if(o)return i;d||a(null,i)},"load");X.prototype.loadSync=s(function(e,t){if(!qe.isNode)throw Error("not supported");return this.load(e,t,ki)},"loadSync");X.prototype.resolveAll=s(function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return kt.prototype.resolveAll.call(this)},"resolveAll");var Ft=/^[A-Z]/;function Ri(r,e){var t=e.parent.lookup(e.extend);if(t){var n=new Rr(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(n.name)||(n.declaringField=e,e.extensionField=n,t.add(n)),!0}return!1}s(Ri,"tryHandleExtension");X.prototype._handleAdd=s(function(e){if(e instanceof Rr)e.extend!==void 0&&!e.extensionField&&(Ri(this,e)||this.deferred.push(e));else if(e instanceof qi)Ft.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Co)){if(e instanceof Fi)for(var t=0;t<this.deferred.length;)Ri(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);Ft.test(e.name)&&(e.parent[e.name]=e)}},"_handleAdd");X.prototype._handleRemove=s(function(e){if(e instanceof Rr){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof qi)Ft.test(e.name)&&delete e.parent[e.name];else if(e instanceof kt){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);Ft.test(e.name)&&delete e.parent[e.name]}},"_handleRemove");X._configure=function(r,e,t){Fi=r,xr=e,ft=t}});var V=w((Ku,Bi)=>{"use strict";var L=Bi.exports=he(),$i=ar(),qr,Fr;L.codegen=ei();L.fetch=ri();L.path=si();L.fs=L.inquire("fs");L.toArray=s(function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),i=0;i<t.length;)n[i]=e[t[i++]];return n}return[]},"toArray");L.toObject=s(function(e){for(var t={},n=0;n<e.length;){var i=e[n++],o=e[n++];o!==void 0&&(t[i]=o)}return t},"toObject");var Mo=/\\/g,Lo=/"/g;L.isReserved=s(function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},"isReserved");L.safeProp=s(function(e){return!/^[$\w_]+$/.test(e)||L.isReserved(e)?'["'+e.replace(Mo,"\\\\").replace(Lo,'\\"')+'"]':"."+e},"safeProp");L.ucFirst=s(function(e){return e.charAt(0).toUpperCase()+e.substring(1)},"ucFirst");var Jo=/_([a-z])/g;L.camelCase=s(function(e){return e.substring(0,1)+e.substring(1).replace(Jo,function(t,n){return n.toUpperCase()})},"camelCase");L.compareFieldsById=s(function(e,t){return e.id-t.id},"compareFieldsById");L.decorateType=s(function(e,t){if(e.$type)return t&&e.$type.name!==t&&(L.decorateRoot.remove(e.$type),e.$type.name=t,L.decorateRoot.add(e.$type)),e.$type;qr||(qr=qt());var n=new qr(t||e.name);return L.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n},"decorateType");var jo=0;L.decorateEnum=s(function(e){if(e.$type)return e.$type;Fr||(Fr=le());var t=new Fr("Enum"+jo++,e);return L.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},"decorateEnum");L.setProperty=s(function(e,t,n){function i(o,a,f){var u=a.shift();if(u==="__proto__"||u==="prototype")return o;if(a.length>0)o[u]=i(o[u]||{},a,f);else{var l=o[u];l&&(f=[].concat(l).concat(f)),o[u]=f}return o}if(s(i,"setProp"),typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),i(e,t,n)},"setProperty");Object.defineProperty(L,"decorateRoot",{get:function(){return $i.decorated||($i.decorated=new(It()))}})});var Me=w((ef,Pi)=>{"use strict";Pi.exports=K;K.className="ReflectionObject";var $t=V(),Bt;function K(r,e){if(!$t.isString(r))throw TypeError("name must be a string");if(e&&!$t.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=r,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}s(K,"ReflectionObject");Object.defineProperties(K.prototype,{root:{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r}},fullName:{get:function(){for(var r=[this.name],e=this.parent;e;)r.unshift(e.name),e=e.parent;return r.join(".")}}});K.prototype.toJSON=s(function(){throw Error()},"toJSON");K.prototype.onAdd=s(function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof Bt&&t._handleAdd(this)},"onAdd");K.prototype.onRemove=s(function(e){var t=e.root;t instanceof Bt&&t._handleRemove(this),this.parent=null,this.resolved=!1},"onRemove");K.prototype.resolve=s(function(){return this.resolved?this:(this.root instanceof Bt&&(this.resolved=!0),this)},"resolve");K.prototype.getOption=s(function(e){if(this.options)return this.options[e]},"getOption");K.prototype.setOption=s(function(e,t,n){return(!n||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this},"setOption");K.prototype.setParsedOption=s(function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var o=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(o){var a=o[e];$t.setProperty(a,n,t)}else o={},o[e]=$t.setProperty({},n,t),i.push(o)}else{var f={};f[e]=t,i.push(f)}return this},"setParsedOption");K.prototype.setOptions=s(function(e,t){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],t);return this},"setOptions");K.prototype.toString=s(function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},"toString");K._configure=function(r){Bt=r}});var le=w((rf,Li)=>{"use strict";Li.exports=ve;var Ci=Me();((ve.prototype=Object.create(Ci.prototype)).constructor=ve).className="Enum";var Mi=He(),Pt=V();function ve(r,e,t,n,i,o){if(Ci.call(this,r,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.valuesOptions=o,this.reserved=void 0,e)for(var a=Object.keys(e),f=0;f<a.length;++f)typeof e[a[f]]=="number"&&(this.valuesById[this.values[a[f]]=e[a[f]]]=a[f])}s(ve,"Enum");ve.fromJSON=s(function(e,t){var n=new ve(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},"fromJSON");ve.prototype.toJSON=s(function(e){var t=e?!!e.keepComments:!1;return Pt.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},"toJSON");ve.prototype.add=s(function(e,t,n,i){if(!Pt.isString(e))throw TypeError("name must be a string");if(!Pt.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=n||null,this},"add");ve.prototype.remove=s(function(e){if(!Pt.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},"remove");ve.prototype.isReservedId=s(function(e){return Mi.isReservedId(this.reserved,e)},"isReservedId");ve.prototype.isReservedName=s(function(e){return Mi.isReservedName(this.reserved,e)},"isReservedName")});var Tr=w((sf,ji)=>{"use strict";ji.exports=Uo;var Vo=le(),kr=Ce(),Ir=V();function Ji(r,e,t,n){return e.resolvedType.group?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,n,(e.id<<3|2)>>>0)}s(Ji,"genTypePartial");function Uo(r){for(var e=Ir.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),t,n,i=r.fieldsArray.slice().sort(Ir.compareFieldsById),t=0;t<i.length;++t){var o=i[t].resolve(),a=r._fieldsArray.indexOf(o),f=o.resolvedType instanceof Vo?"int32":o.type,u=kr.basic[f];n="m"+Ir.safeProp(o.name),o.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|kr.mapKey[o.keyType],o.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",a,n):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,f,n),e("}")("}")):o.repeated?(e("if(%s!=null&&%s.length){",n,n),o.packed&&kr.packed[f]!==void 0?e("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",f,n)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",n),u===void 0?Ji(e,o,a,n+"[i]"):e("w.uint32(%i).%s(%s[i])",(o.id<<3|u)>>>0,f,n)),e("}")):(o.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,o.name),u===void 0?Ji(e,o,a,n):e("w.uint32(%i).%s(%s)",(o.id<<3|u)>>>0,f,n))}return e("return w")}s(Uo,"encoder")});var Ui=w((af,Vi)=>{"use strict";var T=Vi.exports=Kn();T.build="light";function zo(r,e,t){return typeof e=="function"?(t=e,e=new T.Root):e||(e=new T.Root),e.load(r,t)}s(zo,"load");T.load=zo;function Go(r,e){return e||(e=new T.Root),e.loadSync(r)}s(Go,"loadSync");T.loadSync=Go;T.encoder=Tr();T.decoder=gr();T.verifier=br();T.converter=Er();T.ReflectionObject=Me();T.Namespace=He();T.Root=It();T.Enum=le();T.Type=qt();T.Field=xe();T.OneOf=Ue();T.MapField=St();T.Service=Nt();T.Method=Dt();T.Message=Tt();T.wrappers=Ar();T.types=Ce();T.util=V();T.ReflectionObject._configure(T.Root);T.Namespace._configure(T.Type,T.Service,T.Enum);T.Root._configure(T.Type);T.Field._configure(T.Type)});var Br=w((ff,Hi)=>{"use strict";Hi.exports=Gi;var $r=/[\s{}=;:[\],'"()<>]/g,Ho=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Yo=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Wo=/^ *[*/]+ */,Zo=/^\s*\*?\/*/,Xo=/\n/g,Ko=/\s/,Qo=/\\(.?)/g,ea={0:"\0",r:"\r",n:`
`,t:"	"};function zi(r){return r.replace(Qo,function(e,t){switch(t){case"\\":case"":return t;default:return ea[t]||""}})}s(zi,"unescape");Gi.unescape=zi;function Gi(r,e){r=r.toString();var t=0,n=r.length,i=1,o=0,a={},f=[],u=null;function l(_){return Error("illegal "+_+" (line "+i+")")}s(l,"illegal");function d(){var _=u==="'"?Yo:Ho;_.lastIndex=t-1;var k=_.exec(r);if(!k)throw l("string");return t=_.lastIndex,F(u),u=null,zi(k[1])}s(d,"readString");function y(_){return r.charAt(_)}s(y,"charAt");function S(_,k,q){var B={type:r.charAt(_++),lineEmpty:!1,leading:q},Y;e?Y=2:Y=3;var W=_-Y,se;do if(--W<0||(se=r.charAt(W))===`
`){B.lineEmpty=!0;break}while(se===" "||se==="	");for(var de=r.substring(_,k).split(Xo),C=0;C<de.length;++C)de[C]=de[C].replace(e?Zo:Wo,"").trim();B.text=de.join(`
`).trim(),a[i]=B,o=i}s(S,"setComment");function O(_){var k=E(_),q=r.substring(_,k),B=/^\s*\/\//.test(q);return B}s(O,"isDoubleSlashCommentLine");function E(_){for(var k=_;k<n&&y(k)!==`
`;)k++;return k}s(E,"findEndOfLine");function A(){if(f.length>0)return f.shift();if(u)return d();var _,k,q,B,Y,W=t===0;do{if(t===n)return null;for(_=!1;Ko.test(q=y(t));)if(q===`
`&&(W=!0,++i),++t===n)return null;if(y(t)==="/"){if(++t===n)throw l("comment");if(y(t)==="/")if(e){if(B=t,Y=!1,O(t-1)){Y=!0;do if(t=E(t),t===n||(t++,!W))break;while(O(t))}else t=Math.min(n,E(t)+1);Y&&(S(B,t,W),W=!0),i++,_=!0}else{for(Y=y(B=t+1)==="/";y(++t)!==`
`;)if(t===n)return null;++t,Y&&(S(B,t-1,W),W=!0),++i,_=!0}else if((q=y(t))==="*"){B=t+1,Y=e||y(B)==="*";do{if(q===`
`&&++i,++t===n)throw l("comment");k=q,q=y(t)}while(k!=="*"||q!=="/");++t,Y&&(S(B,t-2,W),W=!0),_=!0}else return"/"}}while(_);var se=t;$r.lastIndex=0;var de=$r.test(y(se++));if(!de)for(;se<n&&!$r.test(y(se));)++se;var C=r.substring(t,t=se);return(C==='"'||C==="'")&&(u=C),C}s(A,"next");function F(_){f.push(_)}s(F,"push");function P(){if(!f.length){var _=A();if(_===null)return null;F(_)}return f[0]}s(P,"peek");function b(_,k){var q=P(),B=q===_;if(B)return A(),!0;if(!k)throw l("token '"+q+"', '"+_+"' expected");return!1}s(b,"skip");function we(_){var k=null,q;return _===void 0?(q=a[i-1],delete a[i-1],q&&(e||q.type==="*"||q.lineEmpty)&&(k=q.leading?q.text:null)):(o<_&&P(),q=a[_],delete a[_],q&&!q.lineEmpty&&(e||q.type==="/")&&(k=q.leading?null:q.text)),k}return s(we,"cmnt"),Object.defineProperty({next:A,peek:P,push:F,skip:b,cmnt:we},"line",{get:function(){return i}})}s(Gi,"tokenize")});var Qi=w((cf,Ki)=>{"use strict";Ki.exports=Ae;Ae.filename=null;Ae.defaults={keepCase:!1};var ta=Br(),Yi=It(),Wi=qt(),Zi=xe(),ra=St(),Xi=Ue(),na=le(),ia=Nt(),sa=Dt(),Pr=Ce(),Cr=V(),oa=/^[1-9][0-9]*$/,aa=/^-?[1-9][0-9]*$/,ua=/^0[x][0-9a-fA-F]+$/,fa=/^-?0[x][0-9a-fA-F]+$/,la=/^0[0-7]+$/,ca=/^-?0[0-7]+$/,pa=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Oe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,be=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,da=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function Ae(r,e,t){e instanceof Yi||(t=e,e=new Yi),t||(t=Ae.defaults);var n=t.preferTrailingComment||!1,i=ta(r,t.alternateCommentMode||!1),o=i.next,a=i.push,f=i.peek,u=i.skip,l=i.cmnt,d=!0,y,S,O,E,A=!1,F=e,P=t.keepCase?function(c){return c}:Cr.camelCase;function b(c,p,h){var v=Ae.filename;return h||(Ae.filename=null),Error("illegal "+(p||"token")+" '"+c+"' ("+(v?v+", ":"")+"line "+i.line+")")}s(b,"illegal");function we(){var c=[],p;do{if((p=o())!=='"'&&p!=="'")throw b(p);c.push(o()),u(p),p=f()}while(p==='"'||p==="'");return c.join("")}s(we,"readString");function _(c){var p=o();switch(p){case"'":case'"':return a(p),we();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return q(p,!0)}catch{if(c&&be.test(p))return p;throw b(p,"value")}}s(_,"readValue");function k(c,p){var h,v;do p&&((h=f())==='"'||h==="'")?c.push(we()):c.push([v=B(o()),u("to",!0)?B(o()):v]);while(u(",",!0));var m={options:void 0};m.setOption=function(D,$){this.options===void 0&&(this.options={}),this.options[D]=$},C(m,s(function($){if($==="option")oe(m,$),u(";");else throw b($)},"parseRange_block"),s(function(){pt(m)},"parseRange_line"))}s(k,"readRanges");function q(c,p){var h=1;switch(c.charAt(0)==="-"&&(h=-1,c=c.substring(1)),c){case"inf":case"INF":case"Inf":return h*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(oa.test(c))return h*parseInt(c,10);if(ua.test(c))return h*parseInt(c,16);if(la.test(c))return h*parseInt(c,8);if(pa.test(c))return h*parseFloat(c);throw b(c,"number",p)}s(q,"parseNumber");function B(c,p){switch(c){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!p&&c.charAt(0)==="-")throw b(c,"id");if(aa.test(c))return parseInt(c,10);if(fa.test(c))return parseInt(c,16);if(ca.test(c))return parseInt(c,8);throw b(c,"id")}s(B,"parseId");function Y(){if(y!==void 0)throw b("package");if(y=o(),!be.test(y))throw b(y,"name");F=F.define(y),u(";")}s(Y,"parsePackage");function W(){var c=f(),p;switch(c){case"weak":p=O||(O=[]),o();break;case"public":o();default:p=S||(S=[]);break}c=we(),u(";"),p.push(c)}s(W,"parseImport");function se(){if(u("="),E=we(),A=E==="proto3",!A&&E!=="proto2")throw b(E,"syntax");u(";")}s(se,"parseSyntax");function de(c,p){switch(p){case"option":return oe(c,p),u(";"),!0;case"message":return Jr(c,p),!0;case"enum":return jr(c,p),!0;case"service":return ws(c,p),!0;case"extend":return Es(c,p),!0}return!1}s(de,"parseCommon");function C(c,p,h){var v=i.line;if(c&&(typeof c.comment!="string"&&(c.comment=l()),c.filename=Ae.filename),u("{",!0)){for(var m;(m=o())!=="}";)p(m);u(";",!0)}else h&&h(),u(";"),c&&(typeof c.comment!="string"||n)&&(c.comment=l(v)||c.comment)}s(C,"ifBlock");function Jr(c,p){if(!Oe.test(p=o()))throw b(p,"type name");var h=new Wi(p);C(h,s(function(m){if(!de(h,m))switch(m){case"map":gs(h,m);break;case"required":case"repeated":Q(h,m);break;case"optional":A?Q(h,"proto3_optional"):Q(h,"optional");break;case"oneof":vs(h,m);break;case"extensions":k(h.extensions||(h.extensions=[]));break;case"reserved":k(h.reserved||(h.reserved=[]),!0);break;default:if(!A||!be.test(m))throw b(m);a(m),Q(h,"optional");break}},"parseType_block")),c.add(h)}s(Jr,"parseType");function Q(c,p,h){var v=o();if(v==="group"){ms(c,p);return}for(;v.endsWith(".")||f().startsWith(".");)v+=o();if(!be.test(v))throw b(v,"type");var m=o();if(!Oe.test(m))throw b(m,"name");m=P(m),u("=");var D=new Zi(m,B(o()),v,p,h);if(C(D,s(function(Z){if(Z==="option")oe(D,Z),u(";");else throw b(Z)},"parseField_block"),s(function(){pt(D)},"parseField_line")),p==="proto3_optional"){var $=new Xi("_"+m);D.setOption("proto3_optional",!0),$.add(D),c.add($)}else c.add(D);!A&&D.repeated&&(Pr.packed[v]!==void 0||Pr.basic[v]===void 0)&&D.setOption("packed",!1,!0)}s(Q,"parseField");function ms(c,p){var h=o();if(!Oe.test(h))throw b(h,"name");var v=Cr.lcFirst(h);h===v&&(h=Cr.ucFirst(h)),u("=");var m=B(o()),D=new Wi(h);D.group=!0;var $=new Zi(v,m,h,p);$.filename=Ae.filename,C(D,s(function(Z){switch(Z){case"option":oe(D,Z),u(";");break;case"required":case"repeated":Q(D,Z);break;case"optional":A?Q(D,"proto3_optional"):Q(D,"optional");break;case"message":Jr(D,Z);break;case"enum":jr(D,Z);break;default:throw b(Z)}},"parseGroup_block")),c.add(D).add($)}s(ms,"parseGroup");function gs(c){u("<");var p=o();if(Pr.mapKey[p]===void 0)throw b(p,"type");u(",");var h=o();if(!be.test(h))throw b(h,"type");u(">");var v=o();if(!Oe.test(v))throw b(v,"name");u("=");var m=new ra(P(v),B(o()),p,h);C(m,s(function($){if($==="option")oe(m,$),u(";");else throw b($)},"parseMapField_block"),s(function(){pt(m)},"parseMapField_line")),c.add(m)}s(gs,"parseMapField");function vs(c,p){if(!Oe.test(p=o()))throw b(p,"name");var h=new Xi(P(p));C(h,s(function(m){m==="option"?(oe(h,m),u(";")):(a(m),Q(h,"optional"))},"parseOneOf_block")),c.add(h)}s(vs,"parseOneOf");function jr(c,p){if(!Oe.test(p=o()))throw b(p,"name");var h=new na(p);C(h,s(function(m){switch(m){case"option":oe(h,m),u(";");break;case"reserved":k(h.reserved||(h.reserved=[]),!0);break;default:Os(h,m)}},"parseEnum_block")),c.add(h)}s(jr,"parseEnum");function Os(c,p){if(!Oe.test(p))throw b(p,"name");u("=");var h=B(o(),!0),v={options:void 0};v.setOption=function(m,D){this.options===void 0&&(this.options={}),this.options[m]=D},C(v,s(function(D){if(D==="option")oe(v,D),u(";");else throw b(D)},"parseEnumValue_block"),s(function(){pt(v)},"parseEnumValue_line")),c.add(p,h,v.comment,v.options)}s(Os,"parseEnumValue");function oe(c,p){var h=u("(",!0);if(!be.test(p=o()))throw b(p,"name");var v=p,m=v,D;h&&(u(")"),v="("+v+")",m=v,p=f(),da.test(p)&&(D=p.slice(1),v+=p,o())),u("=");var $=Vr(c,v);bs(c,m,$,D)}s(oe,"parseOption");function Vr(c,p){if(u("{",!0)){for(var h={};!u("}",!0);){if(!Oe.test(U=o()))throw b(U,"name");if(U===null)throw b(U,"end of input");var v,m=U;if(u(":",!0),f()==="{")v=Vr(c,p+"."+U);else if(f()==="["){v=[];var D;if(u("[",!0)){do D=_(!0),v.push(D);while(u(",",!0));u("]"),typeof D<"u"&&Lt(c,p+"."+U,D)}}else v=_(!0),Lt(c,p+"."+U,v);var $=h[m];$&&(v=[].concat($).concat(v)),h[m]=v,u(",",!0),u(";",!0)}return h}var De=_(!0);return Lt(c,p,De),De}s(Vr,"parseOptionValue");function Lt(c,p,h){c.setOption&&c.setOption(p,h)}s(Lt,"setOption");function bs(c,p,h,v){c.setParsedOption&&c.setParsedOption(p,h,v)}s(bs,"setParsedOption");function pt(c){if(u("[",!0)){do oe(c,"option");while(u(",",!0));u("]")}return c}s(pt,"parseInlineOptions");function ws(c,p){if(!Oe.test(p=o()))throw b(p,"service name");var h=new ia(p);C(h,s(function(m){if(!de(h,m))if(m==="rpc")_s(h,m);else throw b(m)},"parseService_block")),c.add(h)}s(ws,"parseService");function _s(c,p){var h=l(),v=p;if(!Oe.test(p=o()))throw b(p,"name");var m=p,D,$,De,Z;if(u("("),u("stream",!0)&&($=!0),!be.test(p=o())||(D=p,u(")"),u("returns"),u("("),u("stream",!0)&&(Z=!0),!be.test(p=o())))throw b(p);De=p,u(")");var dt=new sa(m,v,D,De,$,Z);dt.comment=h,C(dt,s(function(Jt){if(Jt==="option")oe(dt,Jt),u(";");else throw b(Jt)},"parseMethod_block")),c.add(dt)}s(_s,"parseMethod");function Es(c,p){if(!be.test(p=o()))throw b(p,"reference");var h=p;C(null,s(function(m){switch(m){case"required":case"repeated":Q(c,m,h);break;case"optional":A?Q(c,"proto3_optional",h):Q(c,"optional",h);break;default:if(!A||!be.test(m))throw b(m);a(m),Q(c,"optional",h);break}},"parseExtension_block"))}s(Es,"parseExtension");for(var U;(U=o())!==null;)switch(U){case"package":if(!d)throw b(U);Y();break;case"import":if(!d)throw b(U);W();break;case"syntax":if(!d)throw b(U);se();break;case"option":oe(F,U),u(";");break;default:if(de(F,U)){d=!1;continue}throw b(U)}return Ae.filename=null,{package:y,imports:S,weakImports:O,syntax:E,root:e}}s(Ae,"parse")});var rs=w((df,ts)=>{"use strict";ts.exports=pe;var ha=/\/|\./;function pe(r,e){ha.test(r)||(r="google/protobuf/"+r+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),pe[r]=e}s(pe,"common");pe("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var es;pe("duration",{Duration:es={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});pe("timestamp",{Timestamp:es});pe("empty",{Empty:{fields:{}}});pe("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});pe("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});pe("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});pe.get=s(function(e){return pe[e]||null},"get")});var is=w((yf,ns)=>{"use strict";var Fe=ns.exports=Ui();Fe.build="full";Fe.tokenize=Br();Fe.parse=Qi();Fe.common=rs();Fe.Root._configure(Fe.Type,Fe.parse,Fe.common)});var Mr=w((mf,ss)=>{"use strict";ss.exports=is()});var os=w((gf,ya)=>{ya.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var cs=w((N,ls)=>{"use strict";var G=Mr();ls.exports=N=G.descriptor=G.Root.fromJSON(os()).lookup(".google.protobuf");var as=G.Namespace,lt=G.Root,Se=G.Enum,ke=G.Type,Ie=G.Field,ma=G.MapField,Ct=G.OneOf,ct=G.Service,Mt=G.Method;lt.fromDescriptor=s(function(e){typeof e.length=="number"&&(e=N.FileDescriptorSet.decode(e));var t=new lt;if(e.file)for(var n,i,o=0,a;o<e.file.length;++o){if(i=t,(n=e.file[o]).package&&n.package.length&&(i=t.define(n.package)),n.name&&n.name.length&&t.files.push(i.filename=n.name),n.messageType)for(a=0;a<n.messageType.length;++a)i.add(ke.fromDescriptor(n.messageType[a],n.syntax));if(n.enumType)for(a=0;a<n.enumType.length;++a)i.add(Se.fromDescriptor(n.enumType[a]));if(n.extension)for(a=0;a<n.extension.length;++a)i.add(Ie.fromDescriptor(n.extension[a]));if(n.service)for(a=0;a<n.service.length;++a)i.add(ct.fromDescriptor(n.service[a]));var f=We(n.options,N.FileOptions);if(f){var u=Object.keys(f);for(a=0;a<u.length;++a)i.setOption(u[a],f[u[a]])}}return t},"fromDescriptor");lt.prototype.toDescriptor=s(function(e){var t=N.FileDescriptorSet.create();return us(this,t.file,e),t},"toDescriptor");function us(r,e,t){var n=N.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(n.syntax=t),r instanceof lt||(n.package=r.fullName.substring(1));for(var i=0,o;i<r.nestedArray.length;++i)(o=r._nestedArray[i])instanceof ke?n.messageType.push(o.toDescriptor(t)):o instanceof Se?n.enumType.push(o.toDescriptor()):o instanceof Ie?n.extension.push(o.toDescriptor(t)):o instanceof ct?n.service.push(o.toDescriptor()):o instanceof as&&us(o,e,t);n.options=Ze(r.options,N.FileOptions),n.messageType.length+n.enumType.length+n.extension.length+n.service.length&&e.push(n)}s(us,"Root_toDescriptorRecursive");var ga=0;ke.fromDescriptor=s(function(e,t){typeof e.length=="number"&&(e=N.DescriptorProto.decode(e));var n=new ke(e.name.length?e.name:"Type"+ga++,We(e.options,N.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)n.add(Ct.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var o=Ie.fromDescriptor(e.field[i],t);n.add(o),e.field[i].hasOwnProperty("oneofIndex")&&n.oneofsArray[e.field[i].oneofIndex].add(o)}if(e.extension)for(i=0;i<e.extension.length;++i)n.add(Ie.fromDescriptor(e.extension[i],t));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)n.add(ke.fromDescriptor(e.nestedType[i],t)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&n.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)n.add(Se.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(n.extensions=[],i=0;i<e.extensionRange.length;++i)n.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(n.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)n.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)n.reserved.push(e.reservedName[i])}return n},"fromDescriptor");ke.prototype.toDescriptor=s(function(e){var t=N.DescriptorProto.create({name:this.name}),n;for(n=0;n<this.fieldsArray.length;++n){var i;if(t.field.push(i=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof ma){var o=Lr(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),a=Lr(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),f=a===11||a===14?this._fieldsArray[n].resolvedType&&fs(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;t.nestedType.push(N.DescriptorProto.create({name:i.typeName,field:[N.FieldDescriptorProto.create({name:"key",number:1,label:1,type:o}),N.FieldDescriptorProto.create({name:"value",number:2,label:1,type:a,typeName:f})],options:N.MessageOptions.create({mapEntry:!0})}))}}for(n=0;n<this.oneofsArray.length;++n)t.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof Ie?t.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof ke?t.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof Se&&t.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)t.extensionRange.push(N.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)typeof this.reserved[n]=="string"?t.reservedName.push(this.reserved[n]):t.reservedRange.push(N.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return t.options=Ze(this.options,N.MessageOptions),t},"toDescriptor");var va=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Ie.fromDescriptor=s(function(e,t){if(typeof e.length=="number"&&(e=N.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var n;e.typeName&&e.typeName.length?n=e.typeName:n=Ea(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;e.extendee!==void 0&&(o=o.length?o:void 0);var a=new Ie(e.name.length?e.name:"field"+e.number,e.number,n,i,o);if(a.options=We(e.options,N.FieldOptions),e.defaultValue&&e.defaultValue.length){var f=e.defaultValue;switch(f){case"true":case"TRUE":f=!0;break;case"false":case"FALSE":f=!1;break;default:var u=va.exec(f);u&&(f=parseInt(f));break}a.setOption("default",f)}return Aa(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&a.setOption("packed",!1):e.options&&e.options.packed||a.setOption("packed",!1)),a},"fromDescriptor");Ie.prototype.toDescriptor=s(function(e){var t=N.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=G.util.ucFirst(this.name),t.label=3;else{switch(t.type=Lr(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?fs(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=Ze(this.options,N.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=N.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=N.FieldOptions.create())).packed=!0),t},"toDescriptor");var Oa=0;Se.fromDescriptor=s(function(e){typeof e.length=="number"&&(e=N.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,o=e.value[n].number||0;t[i&&i.length?i:"NAME"+o]=o}return new Se(e.name&&e.name.length?e.name:"Enum"+Oa++,t,We(e.options,N.EnumOptions))},"fromDescriptor");Se.prototype.toDescriptor=s(function(){for(var e=[],t=0,n=Object.keys(this.values);t<n.length;++t)e.push(N.EnumValueDescriptorProto.create({name:n[t],number:this.values[n[t]]}));return N.EnumDescriptorProto.create({name:this.name,value:e,options:Ze(this.options,N.EnumOptions)})},"toDescriptor");var ba=0;Ct.fromDescriptor=s(function(e){return typeof e.length=="number"&&(e=N.OneofDescriptorProto.decode(e)),new Ct(e.name&&e.name.length?e.name:"oneof"+ba++)},"fromDescriptor");Ct.prototype.toDescriptor=s(function(){return N.OneofDescriptorProto.create({name:this.name})},"toDescriptor");var wa=0;ct.fromDescriptor=s(function(e){typeof e.length=="number"&&(e=N.ServiceDescriptorProto.decode(e));var t=new ct(e.name&&e.name.length?e.name:"Service"+wa++,We(e.options,N.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)t.add(Mt.fromDescriptor(e.method[n]));return t},"fromDescriptor");ct.prototype.toDescriptor=s(function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return N.ServiceDescriptorProto.create({name:this.name,method:e,options:Ze(this.options,N.ServiceOptions)})},"toDescriptor");var _a=0;Mt.fromDescriptor=s(function(e){return typeof e.length=="number"&&(e=N.MethodDescriptorProto.decode(e)),new Mt(e.name&&e.name.length?e.name:"Method"+_a++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,We(e.options,N.MethodOptions))},"fromDescriptor");Mt.prototype.toDescriptor=s(function(){return N.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Ze(this.options,N.MethodOptions)})},"toDescriptor");function Ea(r){switch(r){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+r)}s(Ea,"fromDescriptorType");function Aa(r){switch(r){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}s(Aa,"packableDescriptorType");function Lr(r,e){switch(r){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Se)return 14;if(e instanceof ke)return e.group?10:11;throw Error("illegal type: "+r)}s(Lr,"toDescriptorType");function We(r,e){if(r){for(var t=[],n=0,i,o,a;n<e.fieldsArray.length;++n)(o=(i=e._fieldsArray[n]).name)!=="uninterpretedOption"&&r.hasOwnProperty(o)&&(a=r[o],i.resolvedType instanceof Se&&typeof a=="number"&&i.resolvedType.valuesById[a]!==void 0&&(a=i.resolvedType.valuesById[a]),t.push(Sa(o),a));return t.length?G.util.toObject(t):void 0}}s(We,"fromDescriptorOptions");function Ze(r,e){if(r){for(var t=[],n=0,i=Object.keys(r),o,a;n<i.length;++n)if(a=r[o=i[n]],o!=="default"){var f=e.fields[o];!f&&!(f=e.fields[o=G.util.camelCase(o)])||t.push(o,a)}return t.length?e.fromObject(G.util.toObject(t)):void 0}}s(Ze,"toDescriptorOptions");function fs(r,e){var t=r.fullName.split("."),n=e.fullName.split("."),i=0,o=0,a=n.length-1;if(!(r instanceof lt)&&e instanceof as)for(;i<t.length&&o<a&&t[i]===n[o];){var f=e.lookup(t[i++],!0);if(f!==null&&f!==e)break;++o}else for(;i<t.length&&o<a&&t[i]===n[o];++i,++o);return n.slice(o).join(".")}s(fs,"shortname");function Sa(r){return r.substring(0,1)+r.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}s(Sa,"underScore")});var{generateCollectionScript:ps}=an(),{setDependencies:ds,dependencies:Je}=Xe(),Da="RecordNameStrategy",Na="TopicRecordNameStrategy",Ta=Mr(),xa=cs(),{formatComment:hs}=Vt(),ys=[{code:"proto_file",imports:[],package:"proto"}];module.exports={generateContainerScript(r,e,t,n){ds(n);let o=Je.lodash.isEmpty(r.containerData)?ys:r.containerData;try{let a=Je.lodash,f={...r,containerData:o,includeAllModelDefinitionsStatements:!0};a.isEmpty(f.collections)&&t(null,"");let{syntax:u,imports:l,modelDefinitionsStatements:d,options:y,messages:S}=f.collections.reduce((A,F)=>{if(JSON.parse(F).$ref)return A;let b=ps({...f,jsonSchema:F});return{syntax:b.syntax,imports:[...A.imports,...b.imports],modelDefinitionsStatements:[...A.modelDefinitionsStatements,...b.modelDefinitionsStatements],options:b.options,messages:[...A.messages,b.message]}},{imports:[],modelDefinitionsStatements:[],options:[],messages:[]}),E=[hs(o[0].description),u,`package ${o[0].package||"proto"};
`,...a.uniq(l)," ",...y,...S,...a.uniq(d)].filter(A=>A!=="").join(`
`);t(null,this.prepareScript(E,f))}catch(a){let f={message:a.message,stack:a.stack};e.log("error",f,"Protobuf Forward-Engineering Error"),t(f)}},generateScript(r,e,t,n){ds(n);let o=Je.lodash.isEmpty(r.containerData)?ys:r.containerData;try{let a=Je.lodash,f={...r,containerData:o,includeAllModelDefinitionsStatements:!1},u=hs(o[0].description),l=ps(f),d=[u,l.syntax,l.packageName,...a.uniq(l.imports)," ",...l.options,...l.modelDefinitionsStatements,l.message].filter(y=>y!=="").join(`
`);t(null,this.prepareScript(d,f))}catch(a){let f={message:a.message,stack:a.stack};e.log("error",f,"Protobuf Forward-Engineering Error"),t(f)}},prepareScript(r,e){let n=Je.lodash.get(e,"options.targetScriptOptions.keyword");return n==="confluentSchemaRegistry"?this.getConfluentPostQuery({data:e,schema:r}):n==="pulsarSchemaRegistry"?this.getPulsarPostQuery({data:e,schema:r}):r},getPulsarPostQuery({data:r,schema:e}){let t=Je.lodash,i=Ta.parse(e).root.toDescriptor("proto3"),a=xa.FileDescriptorSet.encode(i).finish().toString("base64"),f=i.toJSON(),u=`${t.get(f,"file[0].package")}.${t.get(f,"file[0].messageType[0].name")}`,l=t.get(f,"file[0].name"),y={type:"PROTOBUF_NATIVE",data:{fileDescriptorSet:a,rootMessageTypeName:u,rootFileDescriptorName:l},properties:{}},S=t.get(r,"containerData[0].name",""),O=t.get(r,"containerData[0].pulsarTopicName","");return`POST /${t.get(r,"containerData[0].isNonPersistentTopic",!1)?"non-persistent":"persistent"}/${S}/${O}/schema

${JSON.stringify(y,null,4)}`},getConfluentPostQuery({data:r,schema:e}){return`POST /subjects/${s(()=>{let n=Je.lodash,i=this.getRecordName(r),o=n.get(r,"containerData[0].schemaType"),a=n.get(r,"containerData[0].name"),f=n.get(r,"modelData[0].schemaTopic"),u=o?`-${o}`:"",l=a?`${a}.`:"",d=f?`${f}-`:"";switch(n.get(r,"modelData[0].schemaNameStrategy","")){case Da:return`${l}${i}${u}`;case Na:return`${d}${l}${i}${u}`;default:return`${i}${u}`}},"getName")()}/versions

${e}`},getRecordName(r){return r.containerData[0].code||r.containerData[0].name||r.containerData[0].collectionName}};
